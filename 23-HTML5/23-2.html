<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geolocalizacion</title>
</head>

<body>
    <script>
        if (typeof navigator.geolocation == 'undefined') {
            alert("geolocation not supported")
        } else {
            navigator.geolocation.getCurrentPosition(granted, denied)
        }

        function granted(position) {
            var lat = position.coords.latitude
            var lon = position.coords.longitude

            alert("Permission granted. you are at location \n\n" +
                lat + ", " + lon + " \n\nClick 'OK to load Google maps with your location'"
            )

            window.location.replace("https://www.google.com/maps/@" + lat + " , " + lon + " ,14z")

        }

        function denied(error) {
            var message
            switch (error.code) {
                case 1:
                    message = "Permission denied"
                    break;
                case 2:
                    message = "position unavailable"
                    break;
                case 3:
                    message = "Operation Timed Out"
                    break;
                case 4:
                    message = "Uknow error"
                    break;
                default:
                    break;
            }
            alert("Geolocation error: " + message)
        }
    </script>
</body>

</html>